<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  	<meta name="description" content="Application which provides retail owners a means to analyze crowd density" />
  	<meta name="keywords" content="retail, heatmap, crowd, density, beahvior" />
  	<meta name="author" content="Shruthi Kulai, Taruna Arora, Mukul Bajpai, Ravali Peddi, Jagmohan Singh" />

    <title>Retail Heat Map Analytics</title>

    <!-- Bootstrap Core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="../vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../dist/css/sb-admin-2.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="../vendor/morrisjs/morris.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!--styles for directory map -->
    <link rel="stylesheet" type="text/css" href="css/mapstyle.css">
  	<link rel="stylesheet" type="text/css" href="mapplic/mapplic.css">
  	<link rel="stylesheet" type="text/css" href="css/map.css">

    <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
    <script>
      var ang= angular.module("prod",[]);
      ang.controller("ProdController", function($scope,$http){
      $scope.products =  [
      {category:'Garments',name:'Jeans',quantity:5},
      {category:'Garments',name:'Shirts',quantity:10},
      {category:'Grocery',name:'Rice',quantity:"100 Kg"},
      {category:'Grocery',name:'Bread',quantity:"100 packets"}
      ];

      });
    </script>
    <!-- Modernizr JS -->
  	<script src="js/modernizr-2.6.2.min.js"></script>
  	<!-- FOR IE9 below -->
  	<!--[if lt IE 9]>
  	<script src="js/respond.min.js"></script>
  	<![endif]-->
    <style>
    img {
      max-width: 100%;
      max-height: 100%;
    }
	  #targetMap{
      width: 100%;
    }
	  path{stroke:none!important;}
	  circle{fill: red!important;
	  stroke: blue!important;}
    </style>

</head>

<body>

    <div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Retail Heat Map Analytics</a>
            </div>

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">

                        <li>
                            <a href="index.html"><i class="fa fa-dashboard fa-fw"></i> Home</a>
                        </li>

                        <li>
                            <a href="#"><i class="fa fa-sitemap fa-fw"></i> Our Stores<span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">

                                <li>
                                    <a href="#">Costco <span class="fa arrow"></span></a>
                                    <ul class="nav nav-third-level">
                                        <li>
                                            <a href="#">Store Page</a>
                                        </li>
                                        <li>
                                            <a href="#">HeatMap</a>
                                        </li>
                                        <li>
                                            <a href="#">Recommendation</a>
                                        </li>

                                    </ul>
                                    <!-- /.nav-third-level -->
                                </li>
                                <li>
                                    <a href="#">Target <span class="fa arrow"></span></a>
                                    <ul class="nav nav-third-level">
                                        <li>
                                            <a href="#">Store Page</a>
                                        </li>
                                        <li>
                                            <a href="#">HeatMap</a>
                                        </li>
                                        <li>
                                            <a href="#">Recommendation</a>
                                        </li>

                                    </ul>
                                    <!-- /.nav-third-level -->
                                </li>
                                <li>
                                    <a href="#">Bargain <span class="fa arrow"></span></a>
                                    <ul class="nav nav-third-level">
                                        <li>
                                            <a href="#">Store Page</a>
                                        </li>
                                        <li>
                                            <a href="#">HeatMap</a>
                                        </li>
                                        <li>
                                            <a href="#">Recommendation</a>
                                        </li>

                                    </ul>
                                    <!-- /.nav-third-level -->
                                </li>
                                <li>
                                    <a href="#">Walmart <span class="fa arrow"></span></a>
                                    <ul class="nav nav-third-level">
                                        <li>
                                            <a href="#">Store Page</a>
                                        </li>
                                        <li>
                                            <a href="#">HeatMap</a>
                                        </li>
                                        <li>
                                            <a href="#">Recommendation</a>
                                        </li>

                                    </ul>
                                    <!-- /.nav-third-level -->
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>

                          <li>
                        <a href="#"><i class="fa fa-table fa-fw"></i> About Us</a>
                      </li>
                      <li>
                        <a href="#"><i class="fa fa-edit fa-fw"></i> Contact Us</a>
                      </li>
                      <li>
                        <a href="forms.html"><i class="fa fa-edit fa-fw"></i> Feedback</a>
                      </li>


                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>

        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Spartan Store</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->

            <!-- /.row -->
            <div class="row">
                <div class="col-lg-8">
                    <div class="panel panel-default">
                      <section id="map-section" class="inner over">
            					<div class="editor-window">
            						<div class="window-mockup brown"></div>
            						<div class="editor-body">
            							<code>
            								{<br>
            								&nbsp;&nbsp;&nbsp;"id": "newlandmark",<br>
            								&nbsp;&nbsp;&nbsp;"title": "New Landmark",<br>
            								&nbsp;&nbsp;&nbsp;"description": "Creating a new landmark is that easy!",<br>
            								&nbsp;&nbsp;&nbsp;"x": "<span class="mapplic-coordinates-x">0.0000</span>",<br>
            								&nbsp;&nbsp;&nbsp;"y": "<span class="mapplic-coordinates-y">0.0000</span>",<br>
            								&nbsp;&nbsp;&nbsp;...<br>
            								}
            							</code>
            						</div>
            					</div>

            					<div class="map-container">
            						<div class="window-mockup">
            							<div class="window-bar"></div>
            						</div>
            						<!-- Map -->
            						<div id="mapplic"></div>
            					</div>
            				</section>
                    </div>
                    <!-- /.panel -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> Bar Chart Example
                            <div class="pull-right">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                        Actions
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="#">Action</a>
                                        </li>
                                        <li><a href="#">Another action</a>
                                        </li>
                                        <li><a href="#">Something else here</a>
                                        </li>
                                        <li class="divider"></li>
                                        <li><a href="#">Separated link</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-12" id= "targetStoreMap">
                                  <img src="images/store/12.jpg">
                                    <!-- /.table-responsive -->
                                </div>
                                <div class="col-lg-12" id= "walmartStoreMap">
                                  <img src="images/store/3.jpg">
                                    <!-- /.table-responsive -->
                                </div>
                                <div class="col-lg-12" id= "costcoStoreMap">
                                  <img src="images/store/1.jpg">
                                    <!-- /.table-responsive -->
                                </div>
                                <!-- /.col-lg-4 (nested) -->
                                <div class="col-lg-8">
                                    <div id="morris-bar-chart"></div>
                                </div>
                                <!-- /.col-lg-8 (nested) -->
                            </div>
                            <!-- /.row -->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->

                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-8 -->
                <div class="col-lg-4">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-shopping-cart fa-fw"></i> Product Details
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                          <div class="panel-body"  ng-app="prod" ng-controller="ProdController">
                            <div class="list-group">
                        <ul>
                        <p ng-repeat="x in products">
                                <a href="#" class="list-group-item">
                                 {{x.name}}
                                    <span class="pull-right text-muted small"><em>{{x.quantity}}</em>
                                    </span>
                                </a>
                          </p>
                        </ul>
                            </div>

                        </div>

                            <!-- /.list-group -->
                            <a href="#" class="btn btn-default btn-block">View All Alerts</a>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> Donut Chart Example
                        </div>
                        <div class="panel-body">
                            <div id="morris-donut-chart"></div>
                            <a href="#" class="btn btn-default btn-block">View Details</a>
                        </div>
                        <!-- /.panel-body -->
                    </div>


                        <!-- /.panel-footer -->
                    </div>
                    <!-- /.panel .chat-panel -->
                </div>
                <!-- /.col-lg-4 -->
            </div>
            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="js/jquery.min.js"></script>
    <!-- jQuery Easing -->
    <script src="js/jquery.easing.1.3.js"></script>
    <!-- Bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Waypoints -->
    <script src="js/jquery.waypoints.min.js"></script>
    <!-- Stellar Parallax -->
    <script src="js/jquery.stellar.min.js"></script>
    <!-- Counters -->
    <script src="js/jquery.countTo.js"></script>
    <!-- Main JS (Do not remove) -->
    <script src="js/main.js"></script>



    <!-- Bootstrap Core JavaScript -->
    <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="../vendor/metisMenu/metisMenu.min.js"></script>

    <!-- Morris Charts JavaScript
    <script src="../vendor/raphael/raphael.min.js"></script>
   <script src="../vendor/morrisjs/morris.min.js"></script>
    <script src="../data/morris-data.js"></script>-->

    <!-- Custom Theme JavaScript -->
    <script src="../dist/js/sb-admin-2.js"></script>

    	<!-- Scripts -->
    			<script type="text/javascript" src="js/hammer.min.js"></script>
    			<script type="text/javascript" src="js/jquery.mousewheel.js"></script>
    			<script type="text/javascript" src="js/script.js"></script>
    			<script type="text/javascript" src="mapplic/mapplic.js"></script>
    			<script type="text/javascript">
    				$(document).ready(function() {
    					var mapplic = $('#mapplic').mapplic({
    						source: 'mall.json',	// Using mall.json file as map data
    						sidebar: true, 			// Enable sidebar
    						minimap: true, 			// Enable minimap
    						markers: false, 		// Disable markers
    						fillcolor: false, 		// Disable default fill color
    						fullscreen: true, 		// Enable fullscreen
    						maxscale: 3 			// Setting maxscale to 3 times bigger than the original file
    					});
    				});
    			</script>

    <script src="js/raphael.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.no-deps.js"></script>

    <script>
	//http://zreference.com/raphael-animation-along-a-path/
      /*$(function(){
           Raphael.fn.addGuides = function() {
              this.ca.guide = function(g) {
                return {
                  guide: g
                };
              };
              this.ca.along = function(percent) {
                var g = this.attr("guide");
                var len = g.getTotalLength();
                var point = g.getPointAtLength(percent * len);
                var t = {
                  transform: "t" + point.x + " " + point.y
                };
                return t;
              };
            };

            function getRandomInt(min, max) {
              return Math.floor(Math.random() * (max - min + 1)) + min;
          }
                  var p = new Raphael(0,0,"100%","100%");

                  // give raphael guide and along custom attributes
                  p.addGuides();

                  var white = {stroke : "white"};
          		      var blue = {stroke : "blue!important"};
                  var path;

                var path1 = p.path("M 100 230 L 110 550  L 230 580 L 600 580 L 600 230 L 900 230 L 900 450 L 580 450 L 580 250 z").attr(white);
          	  var path2 = p.path("M 50 200 L 50 380 L 200 520 L 350 380 L 350 230 L 600 230 z").attr(white);

                var path3 = p.path("M 300 260 L 900 260 L 900 70 L 1100 70 L 900 120 L 900 260 z").attr(white);
                var path4 = p.path("M 300 240 L 900 240 L 900 470 L 760 460 L 760 240 L 400 240 z").attr(white);

           // var path3 = p.path("M 70 30 Q 50 350  L 70 600 L 530 600 L 530 30 z").attr(blue);
          	//  var path4 =  p.path("M 20 60 Q 20 350  L 20 310 L 530 320 L 530 60 z").attr(blue);
          	  	//  var path5 =  p.path("M 50 30 Q 50 350  L 50 310 L 530 320 L 530 310 L 590 30 z").attr(blue);
                //  var path2 = p.path("M 300 100 Q 350 350 400 10 50 60 100 600 100 50 100").attr(white);
                      var _people = 12;
          		var _heads = 0;
          		for(var i=1;i<=_people;i++){
          	var path;
          	if(i%4==0)path = path1;
          	if(i%4==1)path = path2;
          	if(i%4==2)path = path3;
          	if(i%4==3)path = path4;

          		// var path = (i%2==0)?path1: path2;
          p.circle(0, 0, 10).attr(white).attr({guide : path, along : 0})
                      .animate({along : 1}, getRandomInt(20000, 400000), "ease-out");
          		}


                  $(document).on("click", function(){
                    // animate along a path


          	$.each(_heads, function( i, val ) {
          	var path = (i%2==0)?path1: path2;
          	console.log($(this));
            $(this).attr({guide : path1, along : 0})
                      .animate({along : 1}, 300000, "ease-out");

          });
                  });

                });*/

              </script>


</body>

</html>
